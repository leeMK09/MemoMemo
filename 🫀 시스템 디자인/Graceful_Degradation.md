# Graceful Degradation 

시스템이 완벽하게 동작하지 않을때 크게 두 가지 선택지가 있습니다 

- **Hard Fail** 	
	- 안되면 말고 → 완전히 서비스 중단 
- **Graceful Degradation**
	- 그래도 뭐라도 해보자 → 제한적이라도 서비스 제공 

</br>

**Graceful Degradation 이란**

- 점진적 성능 저하 또는 우아한 성능 저하라고 이야기합니다 
- 시스템의 일부가 고장나더라도 완전히 멈추지 않고, 제한된 기능이나 성능으로라도 서비스를 계속 제공하는 설계 철학 

**핵심 개념**

- 완전 차단보다는 제한적 서비스 제공 
- 부분 장애가 전체 장애로 확산되는 것을 방지 
- 사용자 경험의 점진적 저하 (급격한 중단 X)

**실제 사례들**

1. AWS ELB 의 Unhealthy Target 처리 

- 상황 : 타켓 그룹의 모든 인스턴스가 헬스체크 실패 
- Hard Fail 방식 
	- 모든 요청 거부 → 503 에러 
	- "서버가 응답하지 않습니다" 응답 
- Graceful Degradation 방식 
	- Unhealthy 인스턴스로도 트래픽 전송 시도 
	- 혹시 모를 가능성에 기대 (헬스체크는 실패해도 실제 앱은 동작할 수 있음)
	- 일부 요청이라도 처리될 가능성 제공 

즉 A, B 타켓을 ELB 로 로드밸런싱할 때 A 에대한 헬스체크 응답은 4xx 에러 반환되지만 그래도 A 로 트래픽을 분산, 실제 API 가 정상동작되는지까지 확인

</br>

2. Netflix 의 동영상 스트리밍 

- 상황 : 네트워크 대역폭 부족 
- Hard Fail 방식 
	- "버퍼링 중" 등의 무한 로딩 
	- "재상할 수 없습니다" 등의 에러 
- Graceful Degradation 방식 
	- 4K → 1080p → 720p → 480p 자동 화질 저하 
	- 끊김 없는 재생 우선 
	- 사용자는 낮은 화질이지만 콘텐츠는 시청 가능 
