## 응답시간

응답 시간은 다음과 같이 여러 값을 측정한다

- 평균 값
- 최대 값
- 최소 값
- 중앙 값
- 99% 나 95% 백분위

응답 시간의 평균과 최대 값의 차이가 크다면 99% 나 95% 백분위 값을 함께 확인해야 한다

이 백분위 값이 최대 응답 시간 보다 평균값에 가깝다면 최대 값은 이상치일 수 있다

중앙 값과 평균 값의 차이도 중요하다

응답 시간이 중앙 값보다 평균 값이 더 큰 좌편향 분포를 보인다면 이는 응답 시간이 전반적으로 평균보다 느리다는 것을 의미한다

</br>
</br>

## 99p, 95p

**99p (99th percentile)**

- 데이터 집합에서 상위 1% 를 제외한 99% 의 값이 이 값보다 작거나 같다는 것을 의미한다
- 예를들어 성능 측정에서 99% 가 200ms 라면 전체 요청 중 99% 가 200ms 이하로 처리되었음을 나타낸다

</br>

**95p (95th percentile)**

- 데이터 집합에서 상위 5% 를 제외한 95%의 값이 이 값보다 작거나 같다는 것을 의미한다
- 예를들어 95p 가 150ms 라면 95% 의 요청이 150ms 이하로 처리되었음을 의미한다

99p 와 95p 는 평균값만으로는 얻을 수 없는 정보들을 제공합니다.

예를들어 평균 응답 시간이 200ms 인 시스템이라도 99% 의 요청이 그보다 훨씬 빠르게 처리되고 마지막 1%는 느린 응답을 받을 수 있습니다.

이때 99% 는 마지막 1% 의 응답 시간을 측정하여 시스템의 극단적인 성능 저하를 파악하는데 유용합니다

</br>

99p, 95p 를 측정한다는 것은, **전체 요청 중 99% 는 이 시간보다 빠르게 처리되고 남은 1% 혹은 5% 는 이 시간 이상이 걸린다는 것**을 의미합니다

그래서 99p 지표가 중요하다는 것은 1% 의 느린 응답을 모니터링하고 분석하는데 초점을 맞추자는 의미입니다

즉 99p 를 모니터링하는 주요 이유는 "대부분의 사용자에게 빠르게 처리되지만, 마지막 1%는 성능이 크게 떨어질 수 있다" 는 점을 파악하고 그 1% 의 성능저하를 개선하려는 목적입니다
